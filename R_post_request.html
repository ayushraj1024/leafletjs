<html>
    <head>
        <title>
            R Post Request
        </title>
    </head>
    <body>
        <script src="pointData.js"></script>
        <script>
            var data = new FormData();
            data.append("geojson", JSON.stringify(pointData));
            data.append("nocache", "Yes");

            var xhr = new XMLHttpRequest();
            xhr.withCredentials = true;

            xhr.addEventListener("readystatechange", function() {
            if(this.readyState === 4) {
                console.log(this.responseText);
            }
            });

            xhr.open("POST", "http://cloudgis.in/r_spatial_function.php");

            xhr.send(data);

            xhr.onload = function() {
            if (xhr.status != 200) { // analyze HTTP status of the response
                alert(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found
            } else { // show the result
                alert(`Done, got ${xhr.response.length} bytes`);
                alert(`${xhr.response}`); // response is the server response
                //window.open("http://cloudgis.in/"+`${xhr.responseText}`+"result.txt", '_blank');
            }
            };
        </script>
    </body>
</html>